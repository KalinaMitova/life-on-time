<div class="row">
    <div class="col-sm-10">
        <div class="content-header">GOALS | {{currentGoalPage.title}}</div>
        <p class="content-sub-header">You can check your current goals and set new ones</p>
    </div>
    <div class="content-header col-sm-2" style="text-align: right;">
        <button type="button" class="btn btn-raised btn-outline-warning round btn-min-width mr-1 mb-1" data-toggle="modal" data-target="#goal" (click)="openModal('createEditModal', 'goal', 'create')">+
            Set New
            Goal</button>
    </div>
</div>
<!-- <div class="col-sm-12 col-md-4">
    <app-single-goal-card [item]="item" (deleteConfirm)="DeleteGoal(goal.id)"></app-single-goal-card>
</div> -->

<!-- <div class=" row match-height ">
        <div class="col-sm-12 col-md-4 "> -->

<!--  *ngFor="let goal of goals$ | async, i=i ndex " -->
<!--  populate goals starts -->

<!-- <ng-template [ngIf]="(goals$ | async)?.length>0"> -->
<ng-template ngFor [ngForOf]="goals$ | async" let-goals="ngForOf" let-i="index " let-l=count>
    <div class="row match-height " *ngIf="(i+1)%3===0 || i === 0">
        <div class="col-sm-12 col-md-4" *ngIf="i+0 < l">
            <app-single-goal-card [goal]="goals[i+0]">
            </app-single-goal-card>
        </div>
        <div class="col-sm-12 col-md-4" *ngIf="i+1< l">
            <app-single-goal-card [goal]="goals[i+1]  "></app-single-goal-card>
        </div>
        <div class="col-sm-12 col-md-4" *ngIf="i+2< l">
            <app-single-goal-card [goal]="goals[i+2]  "></app-single-goal-card>
        </div>
    </div>
</ng-template>
<!-- </ng-template> -->
<!--  *ngFor="let goal of goals$ | async, i=i ndex " -->
<!--  populate goals ends -->


<!-- <div class="card ">
                <div class="card-header ">
                    <h4 class="card-title ">Buy dream house</h4>
                    <p class="card-subtitle text-muted ">This text represents goal description.</p>
                </div>
                <div class="card-content ">
                    <div class="card-body table-responsive ">
                        <table class="table text-left ">
                            <thead>
                                <tr>
                                    <th>Actions</th>
                                    <th>Due date</th>
                                    <th></th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Action details</td>
                                    <td>20/04/2020</td>
                                    <td>
                                        <a class="success p-0 " data-original-title=" " title=" " data-toggle="modal "
                                            data-target="#action " (click)="open(createGoalModal) "
                                            [attr.id]="actionType ">
                                            <i class="ft-edit-2 font-medium-3 mr-2 "></i>
                                        </a>
                                        <a class="danger p-0 " data-original-title=" " title=" "
                                            (click)="open(confirmModal) ">
                                            <i class="ft-x font-medium-3 mr-2 "></i>
                                        </a>
                                    </td>
                                </tr>
                                <tr>
                                    <td>Second action</td>
                                    <td>25/05/2020</td>
                                    <td>
                                        <a class="success p-0 " data-original-title=" " title=" " data-toggle="modal "
                                            data-target="#action " (click)="open(createActionModal) ">
                                            <i class="ft-edit-2 font-medium-3 mr-2 "></i>
                                        </a>
                                        <a class="danger p-0 " data-original-title=" " title=" " onclick="if (confirm( 'Are you sure you want to delete this goal/action?')) { // Code for delete goes here. } else { // Do nothing! } ">
                                            <i class="ft-x font-medium-3 mr-2 "></i>
                                        </a>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                <div class="card-footer ">
                    <div class="row ">
                        <div class="col-sm-12 col-lg-6 "><a
                                class="btn btn-sm btn-raised btn-outline-primary round btn-min-width mr-1 mb-1 "
                                data-toggle="modal " data-target="#action " (click)="open(createActionModal) ">+ New
                                Action</a></div>
                        <div class="col-sm-12 col-lg-6 text-right ">
                            <a class="btn btn-sm btn-raised btn-outline-info round btn-min-width mr-1 mb-1 "
                                data-toggle="modal " data-target="#goal " (click)="open(createGoalModal) ">Edit Goal</a>
                            <a class="btn btn-sm btn-raised btn-outline-danger round btn-min-width mr-1 mb-1 " onclick="if (confirm( 'Are you sure you want to delete this goal/action?')) { // Code for delete goes here. } else { // Do nothing! } ">Delete Goal</a></div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-sm-12 col-md-4 ">
            <div class="card ">
                <div class="card-header ">
                    <h4 class="card-title ">Buy dream house</h4>
                    <p class="card-subtitle text-muted ">This text represents goal description.</p>
                </div>
                <div class="card-content ">
                    <div class="card-body table-responsive ">
                        <table class="table text-left ">
                            <thead>
                                <tr>
                                    <th>Actions</th>
                                    <th>Due date</th>
                                    <th></th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Action details</td>
                                    <td>20/04/2020</td>
                                    <td>
                                        <a class="success p-0 " data-original-title=" " title=" " data-toggle="modal "
                                            data-target="#action " (click)="open(createActionModal) ">
                                            <i class="ft-edit-2 font-medium-3 mr-2 "></i>
                                        </a>
                                        <a class="danger p-0 " data-original-title=" " title=" " onclick="if (confirm( 'Are you sure you want to delete this goal/action?')) { // Code for delete goes here. } else { // Do nothing! } ">
                                            <i class="ft-x font-medium-3 mr-2 "></i>
                                        </a>
                                    </td>
                                </tr>
                                <tr>
                                    <td>Second action</td>
                                    <td>25/05/2020</td>
                                    <td>
                                        <a class="success p-0 " data-original-title=" " title=" " data-toggle="modal "
                                            data-target="#action " (click)="open(createActionModal) ">
                                            <i class="ft-edit-2 font-medium-3 mr-2 "></i>
                                        </a>
                                        <a class="danger p-0 " data-original-title=" " title=" " onclick="if (confirm( 'Are you sure you want to delete this goal/action?')) { // Code for delete goes here. } else { // Do nothing! } ">
                                            <i class="ft-x font-medium-3 mr-2 "></i>
                                        </a>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                <div class="card-footer ">
                    <div class="row ">
                        <div class="col-sm-12 col-lg-6 "><a (click)="open(createActionModal) "
                                class="btn btn-sm btn-raised btn-outline-primary round btn-min-width mr-1 mb-1 "
                                data-toggle="modal " data-target="#action ">+ New Action</a></div>
                        <div class="col-sm-12 col-lg-6 text-right ">
                            <a (click)="open(createGoalModal) " class=" btn btn-sm btn-raised btn-outline-info round btn-min-width mr-1 mb-1 " data-toggle="modal " data-target="#goal ">Edit Goal</a>
                            <a class="btn btn-sm btn-raised btn-outline-danger round btn-min-width mr-1 mb-1 " onclick="if (confirm( 'Are you sure you want to delete this goal/action?')) { // Code for delete goes here. } else { // Do nothing! } ">Delete Goal</a></div>
                    </div>
                </div>
            </div>
        </div>
</div> -->


<!-- Goals Modal -->
<!-- <ng-template #createGoalModal let-modal>
    <div class="modal-content ">
        <div class="modal-header ">
            <h4 class="modal-title " id="goalModal ">{{typeAction}} {{type}}Create Goal</h4>
            <button type="button " class="close " aria-label="Close " (click)="modal.dismiss( 'Cross click') ">
                <span aria-hidden="true ">&times;</span>
            </button>
        </div>
        <div class="modal-body ">
            <form>
                <div class="form-group ">
                    <label for="title ">{{type}}Goal Title</label>
                    <input type="text " id="title " placeholder="Set your goal title " class="form-control ">
                </div>

                <div class="form-group " *ngIf="type==='Goal' ">
                    <label for="description ">Goal Description</label>
                    <textarea id="description " placeholder="Put your goal description here " class="form-control "></textarea>
                </div>


                <div class="form-group ">
                    <label for="dueDate ">Select due date for your {{type}}goal</label>
                    <div class="input-group ">
                        <input id="dueDate " class="form-control " placeholder="Select due date " name="dp " ngbDatepicker #dp="ngbDatepicker ">
                        <div class="input-group-append ">
                            <button class="btn btn-outline-secondary calendar " (click)="dp.toggle() " type="button "><span
                                    class="fa fa-calendar-o "></span></button>
                        </div>
                    </div>
                </div>
            </form>
        </div>
        <div class="modal-footer ">
            <button type="button " class="btn grey btn-outline-secondary " data-dismiss="modal " (click)="modal.dismiss( 'Cross click') ">Cancel</button>
            <button type="button " class="btn btn-outline-primary " (click)="modal.close( 'Save click') ">{{typeAction}}
                {{type}}Create
                Goal</button>
        </div>
    </div>
</ng-template>
 -->



<!-- Actions modal -->

<!-- <ng-template #createActionModal let-modal>
    <form #actionModalForm="ngForm " (ngSubmit)="submit(actionModalForm.value) ">
        <div class="modal-content ">
            <div class="modal-header ">
                <h4 class="modal-title " id="actionModal ">Create Action</h4>
                <button type="button " class="close " aria-label="Close " (click)="modal.dismiss( 'Cross click') ">
                    <span aria-hidden="true ">&times;</span>
                </button>
            </div>
            <div class="modal-body ">
                {{actionModalForm.value | json}}
                <div class="form-group ">
                    <label for="title ">Action</label>
                    <input class="form-control " type="text " id="title " name="title " placeholder="Set your action " [(ngModel)]="action.title " #title="ngModel " required>
                </div>
                <div class="alert alert-danger " *ngIf="title.invalid && (title.dirty || title.touched) && title.errors?.required ">
                    The field is required!
                </div>
                <div class="form-group ">
                    <label for="dueDate ">Select due date for your action</label>
                    <div class="input-group ">
                        <input id="dueDate " class="form-control " placeholder="Select due date " name="dueDate " ngbDatepicker #dp="ngbDatepicker " [(ngModel)]="action.dueDate " #dueDate="ngModel " required>
                        <div class="input-group-append ">
                            <button class="btn btn-outline-secondary calendar " (click)="dp.toggle() " type="button "><span
                                    class="fa fa-calendar-o "></span></button>
                        </div>
                    </div>
                </div>
                <div class="alert alert-danger " *ngIf="dueDate.invalid && (dueDate.dirty || dueDate.touched) && dueDate.errors?.required ">
                    The field is required!
                </div>
            </div>
            <div class="modal-footer ">
                <button type="button " class="btn grey btn-outline-secondary " data-dismiss="modal " (click)="modal.dismiss( 'Cross click') ">Cancel</button>
                <button type="submit " class="btn btn-outline-primary ">Create
                    Action</button>
            </div>
        </div>
    </form>
</ng-template>

<ng-template #confirmModal let-modal>
    <div class="modal-header ">
        <h4 class="modal-title " id="modal-title ">Confirmation</h4>
        <button type="button " class="close " aria-describedby="modal-title " (click)="modal.dismiss( 'Cross click') ">
            <span aria-hidden="true ">&times;</span>
        </button>
    </div>
    <div class="modal-body ">
        <p><strong>Are you sure you want to delete <span class="text-primary "> {{title}}"John Doe "</span>
                {{item}}profile?</strong></p>
        <p>All information associated to this user {{item}} profile will be permanently deleted.
            <span class="text-danger ">This operation can not be undone.</span>
        </p>
    </div>
    <div class="modal-footer ">
        <button type="button " class="btn btn-outline-secondary " (click)="onCancel() ">Cancel</button>
        <button type="button " class="btn btn-danger " (click)="onOk() "><span class="text-dark ">Ok</span></button>
    </div>
</ng-template> -->